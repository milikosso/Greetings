<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gallery</title>
  <link rel="stylesheet" href="src/styles.css">
</head>
<body class="scroll-page">
  <div class="page-nav">
    <a href="home.html" class="nav-btn">Greetings</a>
    <a href="parameters.html" class="nav-btn">Parameter system</a>
    <a href="gallery.html" class="nav-btn active">Gallery</a>
    <a href="about.html" class="nav-btn">About</a>
  </div>
  <main class="gallery-page">
    <section class="gallery-section">
      <header class="gallery-section__header">
        <h2 class="gallery-section__title">Waving</h2>
        <img src="assets/shapes/waving-shape.png" alt="" class="gallery-section__shape">
      </header>
      <div class="gallery-section__grid">
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
      </div>
      <div class="gallery-section__pool" aria-hidden="true">
        <img src="assets/images/waving-1.jpg" alt="">
        <img src="assets/images/waving-2.jpg" alt="">
        <img src="assets/images/waving-3.jpg" alt="">
        <img src="assets/images/waving-4.jpg" alt="">
        <img src="assets/images/waving-5.jpg" alt="">
        <img src="assets/images/waving-6.jpg" alt="">
        <img src="assets/images/waving-7.jpg" alt="">
        <img src="assets/images/waving-8.jpg" alt="">
        <img src="assets/images/waving-9.jpg" alt="">
        <img src="assets/images/waving-10.jpg" alt="">
        <img src="assets/images/waving-11.jpg" alt="">
        <img src="assets/images/waving-12.jpg" alt="">
      </div>
    </section>
    <section class="gallery-section">
      <header class="gallery-section__header">
        <h2 class="gallery-section__title">Handshake</h2>
        <img src="assets/shapes/handshake-shape.png" alt="" class="gallery-section__shape">
      </header>
      <div class="gallery-section__grid">
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
      </div>
      <div class="gallery-section__pool" aria-hidden="true">
        <img src="assets/images/handshake-1.jpg" alt="">
        <img src="assets/images/handshake-2.jpg" alt="">
        <img src="assets/images/handshake-3.jpg" alt="">
        <img src="assets/images/handshake-4.jpg" alt="">
        <img src="assets/images/handshake-5.jpg" alt="">
        <img src="assets/images/handshake-6.jpg" alt="">
        <img src="assets/images/handshake-7.jpg" alt="">
        <img src="assets/images/handshake-8.jpg" alt="">
        <img src="assets/images/handshake-9.jpg" alt="">
        <img src="assets/images/handshake-10.jpg" alt="">
        <img src="assets/images/handshake-11.jpg" alt="">
        <img src="assets/images/handshake-12.jpg" alt="">
      </div>
    </section>
    <section class="gallery-section">
      <header class="gallery-section__header">
        <h2 class="gallery-section__title">Wai</h2>
        <img src="assets/shapes/wai-shape.png" alt="" class="gallery-section__shape">
      </header>
      <div class="gallery-section__grid">
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
      </div>
      <div class="gallery-section__pool" aria-hidden="true">
        <img src="assets/images/wai-1.jpg" alt="">
        <img src="assets/images/wai-2.jpg" alt="">
        <img src="assets/images/wai-3.jpg" alt="">
        <img src="assets/images/wai-4.jpg" alt="">
        <img src="assets/images/wai-5.jpg" alt="">
        <img src="assets/images/wai-6.jpg" alt="">
        <img src="assets/images/wai-7.jpg" alt="">
        <img src="assets/images/wai-8.jpg" alt="">
        <img src="assets/images/wai-9.jpg" alt="">
        <img src="assets/images/wai-10.jpg" alt="">
        <img src="assets/images/wai-11.jpg" alt="">
        <img src="assets/images/wai-12.jpg" alt="">
      </div>
    </section>
    <section class="gallery-section">
      <header class="gallery-section__header">
        <h2 class="gallery-section__title">Hug</h2>
        <img src="assets/shapes/hug-shape.png" alt="" class="gallery-section__shape">
      </header>
      <div class="gallery-section__grid">
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
      </div>
      <div class="gallery-section__pool" aria-hidden="true">
        <img src="assets/images/hug-1.jpg" alt="">
        <img src="assets/images/hug-2.jpg" alt="">
        <img src="assets/images/hug-3.jpg" alt="">
        <img src="assets/images/hug-4.jpg" alt="">
        <img src="assets/images/hug-5.jpg" alt="">
        <img src="assets/images/hug-6.jpg" alt="">
        <img src="assets/images/hug-7.jpg" alt="">
        <img src="assets/images/hug-8.jpg" alt="">
        <img src="assets/images/hug-9.jpg" alt="">
        <img src="assets/images/hug-10.jpg" alt="">
        <img src="assets/images/hug-11.jpg" alt="">
        <img src="assets/images/hug-12.jpg" alt="">
      </div>
    </section>
    <section class="gallery-section">
      <header class="gallery-section__header">
        <h2 class="gallery-section__title">La bise</h2>
        <img src="assets/shapes/cheek-kiss-shape.png" alt="" class="gallery-section__shape">
      </header>
      <div class="gallery-section__grid">
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
      </div>
      <div class="gallery-section__pool" aria-hidden="true">
        <img src="assets/images/cheek-kiss-1.jpg" alt="">
        <img src="assets/images/cheek-kiss-2.jpg" alt="">
        <img src="assets/images/cheek-kiss-3.jpg" alt="">
        <img src="assets/images/cheek-kiss-4.jpg" alt="">
        <img src="assets/images/cheek-kiss-5.jpg" alt="">
        <img src="assets/images/cheek-kiss-6.jpg" alt="">
        <img src="assets/images/cheek-kiss-7.jpg" alt="">
        <img src="assets/images/cheek-kiss-8.jpg" alt="">
        <img src="assets/images/cheek-kiss-9.jpg" alt="">
        <img src="assets/images/cheek-kiss-10.jpg" alt="">
        <img src="assets/images/cheek-kiss-11.jpg" alt="">
        <img src="assets/images/cheek-kiss-12.jpg" alt="">
      </div>
    </section>
    <section class="gallery-section">
      <header class="gallery-section__header">
        <h2 class="gallery-section__title">Hand kissing</h2>
        <img src="assets/shapes/hand-kiss-shape.png" alt="" class="gallery-section__shape">
      </header>
      <div class="gallery-section__grid">
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
      </div>
      <div class="gallery-section__pool" aria-hidden="true">
        <img src="assets/images/Hand-kissing-1.jpg" alt="">
        <img src="assets/images/Hand-kissing-2.jpg" alt="">
        <img src="assets/images/Hand-kissing-3.jpg" alt="">
        <img src="assets/images/Hand-kissing-4.jpg" alt="">
        <img src="assets/images/Hand-kissing-5.jpg" alt="">
        <img src="assets/images/Hand-kissing-6.jpg" alt="">
        <img src="assets/images/Hand-kissing-7.jpg" alt="">
        <img src="assets/images/Hand-kissing-8.jpg" alt="">
        <img src="assets/images/Hand-kissing-9.jpg" alt="">
        <img src="assets/images/Hand-kissing-10.jpg" alt="">
        <img src="assets/images/Hand-kissing-11.jpg" alt="">
        <img src="assets/images/Hand-kissing-12.jpg" alt="">
      </div>
    </section>
    <section class="gallery-section">
      <header class="gallery-section__header">
        <h2 class="gallery-section__title">Fist bump</h2>
        <img src="assets/shapes/fist-bump-shape.png" alt="" class="gallery-section__shape">
      </header>
      <div class="gallery-section__grid">
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
        <div class="gallery-section__col"></div>
      </div>
      <div class="gallery-section__pool" aria-hidden="true">
        <img src="assets/images/fist-bump-1.jpg" alt="">
        <img src="assets/images/fist-bump-2.jpg" alt="">
        <img src="assets/images/fist-bump-3.jpg" alt="">
        <img src="assets/images/fist-bump-4.jpg" alt="">
        <img src="assets/images/fist-bump-5.jpg" alt="">
        <img src="assets/images/fist-bump-6.jpg" alt="">
        <img src="assets/images/fist-bump-7.jpg" alt="">
        <img src="assets/images/fist-bump-8.jpg" alt="">
        <img src="assets/images/fist-bump-9.jpg" alt="">
        <img src="assets/images/fist-bump-10.jpg" alt="">
        <img src="assets/images/fist-bump-11.jpg" alt="">
        <img src="assets/images/fist-bump-12.jpg" alt="">
      </div>
    </section>
  </main>
  <script>
    (function() {
      var GAP = 24;
      var NUM_COLS = 4;

      function balanceSection(section) {
        var grid = section.querySelector('.gallery-section__grid');
        var cols = section.querySelectorAll('.gallery-section__col');
        var pool = section.querySelector('.gallery-section__pool');
        var images = pool ? [].slice.call(pool.querySelectorAll('img')) : [];
        if (cols.length !== NUM_COLS || images.length === 0) return;

        function whenAllLoaded(imgs, cb) {
          var n = imgs.length;
          if (n === 0) { cb(); return; }
          var done = 0;
          imgs.forEach(function(img) {
            if (img.complete && img.naturalWidth) {
              if (++done === n) cb();
            } else {
              img.addEventListener('load', function() { if (++done === n) cb(); });
              img.addEventListener('error', function() { if (++done === n) cb(); });
            }
          });
        }

        whenAllLoaded(images, function() {
          var colWidth = (grid.offsetWidth - (NUM_COLS - 1) * GAP) / NUM_COLS;
          if (colWidth <= 0) return;

          var items = images.map(function(img) {
            var w = img.naturalWidth;
            var h = img.naturalHeight;
            var renderedH = w > 0 ? h * (colWidth / w) : 0;
            return { el: img, height: renderedH };
          });

          items.sort(function(a, b) { return b.height - a.height; });

          var colHeights = [0, 0, 0, 0];
          items.forEach(function(item) {
            var minIdx = 0;
            for (var i = 1; i < NUM_COLS; i++) {
              if (colHeights[i] < colHeights[minIdx]) minIdx = i;
            }
            cols[minIdx].appendChild(item.el);
            colHeights[minIdx] += item.height + GAP;
          });

          if (pool && pool.parentNode) pool.parentNode.removeChild(pool);
        });
      }

      function run() {
        var sections = document.querySelectorAll('.gallery-section');
        sections.forEach(balanceSection);
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', run);
      } else {
        run();
      }
    })();
  </script>
</body>
</html>
